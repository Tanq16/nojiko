<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nojiko</title>
    <script src="js/tailwind.js"></script>
    <script src="js/lucide.min.js"></script>
    <link href="css/inter.css" rel="stylesheet">
    <style>
        :root {
            --rosewater: #f5e0dc; --flamingo: #f2cdcd; --pink: #f5c2e7; --mauve: #cba6f7;
            --red: #f38ba8; --maroon: #eba0ac; --peach: #fab387; --yellow: #f9e2af;
            --green: #a6e3a1; --teal: #94e2d5; --sky: #89dceb; --sapphire: #74c7ec;
            --blue: #89b4fa; --lavender: #b4befe; --text: #cdd6f4; --subtext1: #bac2de;
            --subtext0: #a6adc8; --overlay2: #9399b2; --overlay1: #7f849c; --overlay0: #6c7086;
            --surface2: #585b70; --surface1: #45475a; --surface0: #313244; --base: #1e1e2e;
            --mantle: #181825; --crust: #11111b;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--mantle); color: var(--text); }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--crust); }
        ::-webkit-scrollbar-thumb { background: var(--surface0); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--surface1); }
        summary { list-style: none; cursor: pointer; }
        summary::-webkit-details-marker { display: none; }
        .chevron-icon { transition: transform 0.2s ease-in-out; flex-shrink: 0; }
        details[open] > summary > .chevron-icon { transform: rotate(90deg); }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ctp-rosewater': 'var(--rosewater)', 'ctp-flamingo': 'var(--flamingo)',
                        'ctp-pink': 'var(--pink)', 'ctp-mauve': 'var(--mauve)', 'ctp-red': 'var(--red)',
                        'ctp-maroon': 'var(--maroon)', 'ctp-peach': 'var(--peach)', 'ctp-yellow': 'var(--yellow)',
                        'ctp-green': 'var(--green)', 'ctp-teal': 'var(--teal)', 'ctp-sky': 'var(--sky)',
                        'ctp-sapphire': 'var(--sapphire)', 'ctp-blue': 'var(--blue)', 'ctp-lavender': 'var(--lavender)',
                        'ctp-text': 'var(--text)', 'ctp-subtext1': 'var(--subtext1)', 'ctp-subtext0': 'var(--subtext0)',
                        'ctp-overlay2': 'var(--overlay2)', 'ctp-overlay1': 'var(--overlay1)', 'ctp-overlay0': 'var(--overlay0)',
                        'ctp-surface2': 'var(--surface2)', 'ctp-surface1': 'var(--surface1)', 'ctp-surface0': 'var(--surface0)',
                        'ctp-base': 'var(--base)', 'ctp-mantle': 'var(--mantle)', 'ctp-crust': 'var(--crust)',
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen">
    <div id="sidebar-overlay" class="fixed inset-0 bg-black/50 z-20 hidden lg:hidden"></div>

    <div class="relative min-h-screen lg:flex">
        <aside id="sidebar" class="fixed inset-y-0 left-0 bg-ctp-mantle w-72 p-6 flex-shrink-0 flex-col z-30 transform -translate-x-full transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 lg:flex">
            <div class="flex items-center justify-between flex-shrink-0">
                <h1 class="text-xl font-bold text-ctp-mauve flex items-center">
                    <i data-lucide="book-marked" class="mr-3"></i>Bookmarks
                </h1>
                <button id="close-sidebar-btn" class="lg:hidden text-ctp-subtext1 hover:text-ctp-rosewater">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div id="bookmarks-container" class="overflow-y-auto flex-grow pr-2 space-y-4 text-sm mt-8"></div>
        </aside>

        <div class="w-px bg-ctp-surface0 my-10 hidden lg:block"></div>

        <main class="flex-1 p-6 overflow-y-auto">
            <header id="main-header" class="flex flex-col sm:flex-row justify-between sm:items-center mb-6">
                <div class="flex items-center">
                    <button id="open-sidebar-btn" class="lg:hidden mr-4 text-ctp-subtext1 hover:text-ctp-rosewater">
                        <i data-lucide="menu"></i>
                    </button>
                    <div id="header-content" class="flex items-center"></div>
                </div>
                <div id="weather-content" class="flex items-center space-x-3 text-ctp-subtext1 mt-4 sm:mt-0"></div>
            </header>

            <div id="dynamic-sections-container">
                <!-- StatusCards and ThumbFeeds will be injected here -->
            </div>
        </main>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="fixed inset-0 bg-black/70 z-40 hidden items-center justify-center">
        <div class="bg-ctp-crust p-6 rounded-lg w-full max-w-3xl h-[80vh] flex flex-col shadow-2xl">
            <div class="flex justify-between items-center mb-4 flex-shrink-0">
                <h2 class="text-xl font-bold text-ctp-mauve flex items-center">
                    <i data-lucide="settings-2" class="mr-3"></i>Edit Configuration
                </h2>
                <button id="close-modal-btn" class="text-ctp-subtext1 hover:text-ctp-rosewater">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <textarea id="config-editor" class="w-full flex-grow bg-ctp-base text-ctp-text p-4 rounded-md font-mono text-sm resize-none border border-ctp-surface0 focus:outline-none focus:ring-2 focus:ring-ctp-mauve"></textarea>
            <div id="save-status" class="text-sm h-5 mt-2 text-ctp-subtext1"></div>
            <div class="flex justify-end space-x-4 mt-2 flex-shrink-0">
                <button id="cancel-btn" class="px-5 py-2 bg-ctp-surface1 rounded-md hover:bg-ctp-surface2 transition-colors">Cancel</button>
                <button id="save-btn" class="px-5 py-2 bg-ctp-blue text-ctp-base rounded-md hover:bg-ctp-sapphire transition-colors font-semibold flex items-center">
                    <span id="save-btn-text">Save</span>
                    <div id="save-spinner" class="w-4 h-4 border-2 border-ctp-base border-t-transparent rounded-full animate-spin ml-2 hidden"></div>
                </button>
            </div>
        </div>
    </div>

    <script src="js/contents.js"></script>
    <script src="js/logic.js"></script>
</body>
</html>
